import { defineStore } from "pinia";
import { ref } from "vue";

const useRootStore = defineStore("auth", () => {
  const user = ref(null);
  const email = ref(null);
  // const userToken = ref(sessionStorage.getItem('userEmail') || '')
  const authStatus = ref(false);


  const addUser = async (userDto) => {
    const head = {
      method: "POST",
      body: JSON.stringify(userDto),
      headers: {
        "Content-Type": "application/json",
      }
    }

    const url = "http://10.20.3.163:9002/api/user/add"
    const res = await fetch(url, head)
    const data = await res.json();
    console.log(data)
  }

  function generateRandomUuid() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
      const r = Math.random() * 16 | 0,
        v = c === 'x' ? r : (r & 0x3 | 0x8);
      return v.toString(16);
    });
  }

  const LOGIN = async (loginData) => {
    try {
      const res = await fetch("http://10.20.3.163:8020/user/login", {
        method: "POST",
        body: JSON.stringify({
          userEmail: loginData.email,
          userPassword: loginData.password,
        }),
        headers: {
          "Content-Type": "application/json",
        },
      });
      const parsedResponse = await res.json();

      user.value = { ...parsedResponse };
      // user.value = user.value['resultData']
      console.log("userDetails", user.value);
      // email.value = user.value.userEmail;

      //adding user Details
      const userDto = {

        friendList: [
          {
            friendList: [null],
            url: "data:image/jpeg;base64,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",
            userId: generateRandomUuid(),
            userName: "ADI"
          },
          {
            friendList: [null],
            url: "data:image/jpeg;base64,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",
            userId: generateRandomUuid(),
            userName: "TAU"
          },
          {
            friendList: [null],
            url: "data:image/jpeg;base64,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",
            userId: generateRandomUuid(),
            userName: "PIYUSH"
          },
          {
            friendList: [null],
            url: "data:image/jpeg;base64,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",
            userId: generateRandomUuid(),
            userName: "HARSHITA"
          }
        ],
        url: "data:image/jpeg;base64,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",
        userId: generateRandomUuid(),
        userName: "ALOK"

      }

      addUser(userDto)


      sessionStorage.setItem("userEmail", user.value.resultData.userEmail);
      sessionStorage.setItem("userToken", user.value.resultData.userToken);
      authStatus.value = true;
      return true;
    } catch (e) {
      console.log("error", e);
    }
    return false;
  };
  const LOGOUT = () => {
    sessionStorage.removeItem("userEmail");
    sessionStorage.removeItem("userToken");
    authStatus.value = false;
  };
  const register = async (loginData) => {
    try {
      const res = await fetch("http://10.20.3.163:8020/user/addUser", {
        method: "POST",
        body: JSON.stringify({
          userEmail: loginData.email,
          userPassword: loginData.password,
        }),
        headers: {
          "Content-Type": "application/json",
        },
      });
      const parsedResponse = await res.json();

      user.value = { ...parsedResponse };
      // user.value = user.value['resultData']
      console.log("userDetails", user.value);
      // email.value = user.value.userEmail;

      sessionStorage.setItem("userEmail", user.value.resultData.userEmail);
      sessionStorage.setItem("userToken", user.value.resultData.userToken);
      authStatus.value = true;
      return true;
    } catch (e) {
      console.log("error", e);
    }
    return false;
  };
  const updateAuthStatus = (userEmail) => {
    if (userEmail) {
      authStatus.value = true;
    } else {
      authStatus.value = false;
    }
  };

  return {
    LOGIN,
    user,
    LOGOUT,
    email,
    authStatus,
    register,
    updateAuthStatus,
    // userToken
  };
});
export default useRootStore;
